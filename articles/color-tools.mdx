---
title: 'Color Tools'
description: 'A lightweight library for color manipulation, conversion, and palette generation'
date: '2022-08-23'
status: 'draft'
---

# color-tools

A lightweight library for color validation, manipulation, conversion, theme and palette generation

## Installation

Color Tools is available on Npm. You can install it using the package manager of your choice.

### Npm

```bash
npm install color-tools
```

### Yarn

```bash
yarn add color-tools
```

### Pnpm

```bash
pnpm add color-tools
```

## Usage

This package uses **named exports** and supports both CommonJS and ESModules. The following exports
are currently available:

- `Color`
- `Theme`
- `convert`

### ES Modules

```javascript
import { Color, Theme, convert } from 'color-tools'
```

### Common JS

```javascript
const { Color, Theme, convert } = require('color-tools')
```

## Color

The `Color` class utility is versatile. It is able to convert between hexadecimal, rgb, and hsl
color spaces. Alpha channels are supported as well. It accepts any valid (and quite a few invalid)
css color strings. In most cases operators like `deg` and `%` are not necessary. For `hsl` colors,
`deg` and `%` will be assumed unless another operator is supplied.

Objects are also acceptable input. Objects should be in the form of `{r, g, b, a?}` or
`{h, s, l, a?}` with the alpha `a` channel being optional.

You can use an array for input as well with one caveat. When supplying an array of values as input,
you must also supply a configuration object as a second argument. Otherwise, it's impossible to know
which color space the values belong to.

### Properties (color spaces)

- rgb
- hsl
- hex

Each color space has the methods

- `array()`
- `object()`
- `css()`

### Color Prototype Methods

- `value()` A convenience method that returns the current instance's color value based on the
  preferred color space and data types
- `contrast()` Returns the contrast ratio between the current color instance and another color.
  accepts the same input parameters as `Color` minus the config
- `luminance()` Returns a floating point number between 0 and 1 representing the color's luminance
  value
- `red()` set the red `rgb` channel
- `green()` set the green `rgb` channel
- `blue()` set the blue `rgb` channel
- `hue()` set the `hsl` hue value
- `saturation()` set the `hsl` saturation value
- `lightness()` set the `hsl` lightness value

### Static Methods

- `Color.random()` - returns a random hexadecimal color value
- `Color.contrast()` - Takes 2 colors as input and returns the contrast ratio between them.

## Theme

`Theme` is an extensions of the `Color` class

### Theme Prototype Methods

- `complementary()`
- `splitComplementary()`
- `triadic()`
- `tetradic()`
- `analagous()`
- `square()`
- `rectangle()`

## Configuration

The configuration object allows you to set some default preferences. Currently there are 2 options:

- `colorSpace`: One of `'rgb'` or `'hsl'` or `'hex'`
- `dataType`: One of `'array'` or `'object'` or `'string'`.

You can also supply the literal data type. E.g. `[]`, `{}`, `''`

## Examples

### Acceptable Input

```js
const deepSkyBlue = new Color('deepskyblue')
const blue = new Color('rgb(0 0 255)')
const red = new Color({ h: 0, s: 100, l: 50 })
```

#### With Configuration Object

```js
const green = new Color([0, 128, 0], {
  // using an array we need to specify the initial color space
  colorSpace: 'rgb',
  // we can still set the preferred data type to whatever we choose
  dataType: {},
})

green.value() // { r:0, g:128, b:0 }

const deepPink = new Color('deeppink', {
  // here we don't need to set a color space to be able to parse the input
  // instead we're setting a color space to use as the default for this color
  colorSpace: 'hsl',
  dataType: [],
})

deepPink.value() // [328, 100, 54]
```

### Output colors

#### Color.prototype.value

The simplest way to obtain the color output is with the `value` method. The output of this method
will vary depending on the input and configuration provided.

For named colors, without a configuration, the default output will be in hexadecimal format. For all
other inputs without a config, the output of `value` will directly match the input.

```js
// named colors default to hex format
const blue = new Color('blue')
blue.value() // '#0000FF'

const red = new Color('rgb(255 0 0)')
red.value() // 'rgb(255, 0, 0)'

const green = new Color({ h: 120, s: 100, l: 25 })
green.value() // {h:120, s:100, l:25}
```

##### Using a config object

By passing in a configuration object as the second argument, we can define the color space and data
type of the output provided by the `value` method.

```js
// define the output as an array of RGB values
const blue = new Color('blue', {
  colorSpace: 'rgb',
  dataType: [],
})

blue.value() // [0, 0, 255];

// define the output as a css HSL color
const red = new Color('rgb(255 0 0)', {
  colorSpace: 'hsl',
  dataType: '',
})

red.value() // hsl(0deg, 100%, 50%);

// define the output as a css Hex color
const green = new Color(
  { h: 120, s: 100, l: 25 },
  {
    colorSpace: 'hex',
    dataType: '',
  }
)

green.value() // #008000
```

##### Target color spaces directly

The `value` method is a convenient short hand way for obtaining color values in a desired format and
color space. The same can be achieved by targeting the individual color space methods directly

```javascript
const color = new Color('deepskyblue')

// HSL colors
color.hsl.css() // hsl(195deg, 100%, 50%)
color.hsl.object() // {h:195, s:100, l:50}
color.hsl.array() // [195, 100, 50]

// RGB colors
color.rgb.css() // rgb(0, 191, 255)
color.rgb.object() // {r:0, g:191, b:255}
color.rgb.array() // [0, 191, 255]

// HEX colors
color.hex.css() // '#00bfff'
color.hex.object() // {r:'00', g:'bf', b:'ff'};
color.hex.array() // ['00', 'bf', 'ff']
```
